<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI Coder Portfolio - Code Split Version</title>
    <link rel="stylesheet" href="./css/style.css?v=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Performance monitoring -->
    <script>
        window.bundleLoadTimes = {};
        window.bundleLoadTimes.start = performance.now();
    </script>
</head>
<body>
    <!-- Performance Info -->
    <div id="perf-info" style="position:fixed;top:10px;right:10px;background:#333;color:#00ffff;padding:10px;border-radius:5px;font-size:11px;z-index:1000;max-width:200px;">
        <div><strong>Bundle Status:</strong></div>
        <div>Core: <span id="core-status" style="color:#0f0;">5.1KB âœ“</span></div>
        <div>Language: <span id="lang-status" style="color:#666;">Not loaded</span></div>
        <div>Contact: <span id="contact-status" style="color:#666;">Not loaded</span></div>
        <div style="margin-top:5px;font-size:10px;">
          <div>Initial load: <span id="initial-load">5.1KB</span></div>
          <div>On-demand: <span id="lazy-load">0KB</span></div>
        </div>
    </div>

    <!-- Navigation -->
    <header>
        <nav>
            <a href="#" class="logo">&lt;/> PETER.DEV</a>
            
            <ul class="nav-links">
                <li><a href="#hero" data-translate="nav-home">Home</a></li>
                <li><a href="#about" data-translate="nav-about">About</a></li>
                <li><a href="#skills" data-translate="nav-skills">Skills</a></li>
                <li><a href="#projects" data-translate="nav-projects">Projects</a></li>
                <li><a href="#contact" data-translate="nav-contact">Contact</a></li>
            </ul>
            
            <button class="language-toggle" id="languageToggle" aria-label="Switch language">
                <span class="lang-text">EN</span>
            </button>
            
            <a href="./assets/cv-peter.pdf" class="btn btn-nav-cv" download data-translate="nav-cv">Download CV</a>
            
            <div class="hamburger">
                <div></div>
                <div></div>
                <div></div>
            </div>
        </nav>
    </header>

    <!-- Hero Section -->
    <section id="hero" class="hero">
        <div class="hero-text">
            <span class="line1" data-translate="hero-line1">HAVING FUN WITH AI WHILE</span>
            <span class="line2" data-translate="hero-line2">BUILDING SMART SOLUTIONS</span>
            <p data-translate="hero-desc">I love turning ideas into code â€“ especially when AI is involved. From machine learning to smart apps, I'm all about exploring, experimenting, and building things that push tech (and myself) a little further every day.</p>
            <div class="hero-buttons">
                <a href="https://cv.peterbot.dev" class="btn btn-primary" target="_blank">Try My CV-Bot</a>
                <a href="#contact" class="btn btn-secondary">Contact Me</a>
            </div>
        </div>
        <div class="hero-image">
            <img src="./assets/images/robot.png" alt="AI Robot Illustration">
        </div>
    </section>

    <!-- About Section -->
    <section id="about" class="about">
        <h2 data-translate="about-title">About Me</h2>
        <div class="about-content">
            <div class="about-text">
                <h3 data-translate="about-subtitle">AI Developer & Machine Learning Engineer</h3>
                <p data-translate="about-p1">My journey into the world of AI is rooted in two years of full-time studies in web development...</p>
            </div>
            <div class="about-image">
                <img src="./assets/images/me-profile.png" alt="Peter - AI Developer">
            </div>
        </div>
    </section>

    <!-- Skills Section -->
    <section id="skills">
        <h2 data-translate="skills-title">Technical Skills</h2>
        <div class="skills-container">
            <div class="skill">
                <div class="skill-info"><span data-translate="skill-deployment">Deployment (Hetzner / Serverless)</span> <span>81%</span></div>
                <div class="skill-bar"><div class="skill-level" style="width: 81%;"></div></div>
            </div>
            <div class="skill">
                <div class="skill-info"><span data-translate="skill-dl">Claude Code</span> <span>81%</span></div>
                <div class="skill-bar"><div class="skill-level" style="width: 81%;"></div></div>
            </div>
        </div>
    </section>

    <!-- Contact Section - Triggers lazy loading -->
    <section id="contact" class="contact">
        <h2 data-translate="contact-title">Get In Touch</h2>
        <div class="contact-content">
            <div class="contact-info">
                <div class="contact-item">
                    <i class="fas fa-envelope"></i>
                    <span data-translate="contact-email">dev.peter.ai@gmail.com</span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-phone"></i>
                    <span data-translate="contact-phone">+46 704893020</span>
                </div>
                <div class="contact-item">
                    <i class="fas fa-map-marker-alt"></i>
                    <span data-translate="contact-location">Karlstad, VÃ¤rmland</span>
                </div>
            </div>
            <form class="contact-form">
                <input type="text" id="name" data-translate="form-name" placeholder="Name" required>
                <input type="email" id="email" data-translate="form-email" placeholder="Email" required>
                <textarea id="message" data-translate="form-message" placeholder="Message" required></textarea>
                <button type="submit" data-translate="form-submit">Send Message</button>
            </form>
        </div>
    </section>

    <!-- Footer -->
    <footer>
        <p>&copy; 2024 Peter. All rights reserved.</p>
        <div class="social-links">
            <a href="#"><i class="fab fa-linkedin"></i></a>
            <a href="#"><i class="fab fa-github"></i></a>
            <a href="#"><i class="fab fa-twitter"></i></a>
        </div>
    </footer>

    <!-- Load core bundle (5.1KB) immediately -->
    <script src="./js/bundles/core.js"></script>
    
    <!-- Load lazy loader to handle on-demand loading -->
    <script src="./js/bundles/lazy-loader.js"></script>

    <!-- Performance monitoring script -->
    <script>
        // Track bundle loading
        const originalAppendChild = document.head.appendChild;
        let lazyLoadSize = 0;
        
        document.head.appendChild = function(element) {
            if (element.tagName === 'SCRIPT' && element.src.includes('bundles/')) {
                const bundleName = element.src.split('/').pop().replace('.js', '');
                
                element.onload = function() {
                    const sizes = {
                        'language': 12.54,
                        'contact': 11.23
                    };
                    
                    lazyLoadSize += sizes[bundleName] || 0;
                    
                    // Update UI
                    if (bundleName === 'language') {
                        document.getElementById('lang-status').innerHTML = '<span style="color:#0f0;">12.5KB âœ“</span>';
                    } else if (bundleName === 'contact') {
                        document.getElementById('contact-status').innerHTML = '<span style="color:#0f0;">11.2KB âœ“</span>';
                    }
                    
                    document.getElementById('lazy-load').textContent = lazyLoadSize.toFixed(1) + 'KB';
                    
                    console.log(`ðŸ“¦ Lazy loaded ${bundleName} bundle (${sizes[bundleName]}KB)`);
                };
            }
            return originalAppendChild.call(this, element);
        };
        
        // Hide performance info on production
        if (window.location.hostname !== 'localhost') {
            document.getElementById('perf-info').style.display = 'none';
        }
    </script>
</body>
</html>